/*! BingMapsFactory - v0.0.1 - 2013-06-12
* https://github.com/dannyrscott/BingMapFactory
* Copyright (c) 2013 Danny Scott; Licensed MIT */
(function(t){"use strict";var o,i=function(t){return Array.prototype.slice.call(arguments,1).forEach(function(o){if(o)for(var i in o)t[i]=o[i]}),t},s={credentials:"",zoom:17},n=function(n,e){if(!t.Microsoft||!t.Microsoft.Maps)throw"Microsoft Maps not loaded :(";o=Microsoft.Maps,e=e||{},this.opts=i(s,e),this.opts.credentials=this.opts.apiKey;var r=this.opts.center;this.opts.center=new o.Location(r.lat,r.lng),this.div=n||[]};n.prototype.load=function(){return this.map=new o.Map(this.div,this.opts),this},n.prototype.bind=function(t,s,n){var e={throttled:!0,delay:3e3};return e=i(e,n),s&&t?(e.throttled?o.Events.addThrottledHandler(this.map,t,s,e.delay):o.Events.addHandler(this.map,t,s),this):this},n.prototype.addPin=function(t){var s={};s=i(s,t);var n=new o.Pushpin(new o.Location(s.lat,s.lng),s);return this.map.entities.push(n),this},t.BingMap=n})("object"==typeof exports&&exports||this);