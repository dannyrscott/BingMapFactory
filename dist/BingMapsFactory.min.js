/*! BingMapsFactory - v0.0.1 - 2013-06-11
* https://github.com/dannyrscott/BingMapFactory
* Copyright (c) 2013 Danny Scott; Licensed MIT */
(function(t){"use strict";var e,o={credentials:"",zoom:17},i=function(i,s){if(!t.Microsoft||!t.Microsoft.Maps)throw"Microsoft Maps not loaded :(";e=Microsoft.Maps,s=s||{},this.opts=$.extend(s,o),this.opts.credentials=this.opts.apiKey;var n=this.opts.center;this.opts.center=new e.Location(n.lat,n.lng),this.div=$(i)||[]};i.prototype.load=function(){return this.map=new e.Map(this.div[0],this.opts),this},i.prototype.bind=function(t,o,i){var s={throttled:!0,delay:3e3};return s=$.extend(i,s),o&&t?(s.throttled?e.Events.addThrottledHandler(this.map,t,o,s.delay):e.Events.addHandler(this.map,t,o),this):this},i.prototype.addPin=function(t){var o={};o=$.extend(t,o);var i=new e.Pushpin(new e.Location(o.lat,o.lng),o);return this.map.entities.push(i),this},t.BingMap=i})("object"==typeof exports&&exports||this);